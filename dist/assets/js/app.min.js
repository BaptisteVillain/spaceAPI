function curiosityPath(e,i,t){for(var l="M"+(keys[e].getBoundingClientRect().left+6.5)+" "+(keys[e].getBoundingClientRect().top+6.5)+" ",s=e+1;s<=i;s++){var n=keys[s].getBoundingClientRect();l+=" L"+(n.left+6.5)+" "+(n.top+6.5)}newpath=document.createElementNS("http://www.w3.org/2000/svg","path"),newpath.setAttributeNS(null,"d",l),t&&newpath.setAttribute("class","animate"),curiosity_path_svg.appendChild(newpath)}function svgInit(){var e=curiosity_path_svg.parentNode.getBoundingClientRect();curiosity_path_svg.setAttribute("viewBox","0 0 "+e.width+" "+e.height),curiosity_path_svg.setAttribute("width",e.width),curiosity_path_svg.setAttribute("height",e.height)}function setTimeline(e){for(var i=e;i<=e+9;i++)i>=0&&i<ressources.length?(timeline.items[i-e].setAttribute("href","?sol="+ressources[i].sol),timeline.items[i-e].classList.remove("hide"),timeline.items_infos[i-e].innerHTML=ressources[i].sol):(timeline.items[i-e].setAttribute("href","?sol="+ressources[ressources.length-1].sol),timeline.items[i-e].classList.add("hide"),timeline.items_infos[i-e].innerHTML="");selectTimeline(selected_in)}function selectTimeline(e){if(timeline.select==timeline.currentSelect){var i=(timeline.items[e].offsetLeft+6)/timeline.container.offsetWidth;timeline.items[e].classList.add("active"),timeline.line.style.transform="scaleX("+i+")",timeline.display_sol.classList.remove("hide"),timeline.display_sol.style.transform="translate("+(timeline.items[e].offsetLeft-50)+"px)",timeline.display_sol.innerHTML="sol "+ressources[timeline.select+e].sol}else if(timeline.select>timeline.currentSelect){timeline.line.style.transform="scaleX(0)";for(var t=timeline.items.length-1;t>=0;t--)timeline.items[t].classList.remove("active"),timeline.display_sol.classList.add("hide")}else if(timeline.select<timeline.currentSelect){timeline.line.style.transform="scaleX(1)";for(var t=timeline.items.length-1;t>=0;t--)timeline.items[t].classList.remove("active"),timeline.display_sol.classList.add("hide")}}function init(){setTimeline(timeline.select),selectTimeline(selected_in),svgInit(),curiosityPath(0,sol_index,!1),curiosityPath(sol_index,sol_index+1,!0),keys[sol_index].classList.add("active")}function openModal(){document.getElementById("myModal").style.display="block"}function closeModal(){document.getElementById("myModal").style.display="none"}function plusSlides(e){showSlides(slideIndex+=e)}function currentSlide(e){showSlides(slideIndex=e)}function showSlides(e){var i,t=document.getElementsByClassName("mySlides"),l=document.getElementsByClassName("demo"),s=document.getElementById("caption");for(e>t.length&&(slideIndex=1),e<1&&(slideIndex=t.length),i=0;i<t.length;i++)t[i].style.display="none";for(i=0;i<l.length;i++)l[i].className=l[i].className.replace(" active","");t[slideIndex-1].style.display="block",l[slideIndex-1].className+=" active",s.innerHTML=l[slideIndex-1].alt}var keys=document.querySelectorAll(".key"),curiosity_path_svg=document.querySelector(".curiosity-path svg"),timeline={};timeline.items=document.querySelectorAll(".timeline .item"),timeline.previous=document.querySelector(".timeline-controls .previous"),timeline.next=document.querySelector(".timeline-controls .next"),timeline.items_infos=document.querySelectorAll(".timeline .info-item"),timeline.select=selected,timeline.line=document.querySelector(".timeline .line"),timeline.container=document.querySelector(".timeline .line-container"),timeline.display_sol=document.querySelector(".timeline .date-display"),timeline.currentSelect=selected,timeline.previous.addEventListener("click",function(){timeline.select>=10?(timeline.select-=10,timeline.next.classList.remove("hide"),setTimeline(timeline.select),0==timeline.select&&timeline.previous.classList.add("hide")):(timeline.select=0,timeline.previous.classList.add("hide"))}),timeline.next.addEventListener("click",function(){timeline.select<=ressources.length-20?(timeline.select+=10,timeline.previous.classList.remove("hide"),setTimeline(timeline.select)):(timeline.select=110,timeline.next.classList.add("hide"),setTimeline(timeline.select))}),init();var slideIndex=1;showSlides(slideIndex);